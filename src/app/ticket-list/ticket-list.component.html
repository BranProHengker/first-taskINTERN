    <!-- Topbar -->
    <header class="h-20 border-b border-white/5 flex items-center justify-between px-8 bg-[#303841]/80 backdrop-blur-xl sticky top-0 z-20 shrink-0">
      <div>
        <h1 class="text-2xl font-bold text-white tracking-tight">Ticket Management</h1>
        <p class="text-xs text-gray-500 mt-1">Manage and track support requests</p>
      </div>
      <div class="flex items-center gap-4">
        <button class="w-10 h-10 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 transition">
          <span class="sr-only">Notifications</span>
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
        </button>
        <div class="w-10 h-10 rounded-full ring-2 ring-white/10" style="background-color: var(--color-primary)"></div>
      </div>
    </header>

    <div class="flex-1 overflow-auto p-10 flex flex-col h-full">
        <div class="flex justify-between items-center mb-8">
            <div class="flex gap-3 items-center">
               <!-- Search Mock -->
               <div class="relative">
                 <input type="text" placeholder="Search tickets..." class="pl-9 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-white focus:ring-0 focus:border-red-500 transition w-64">
                 <svg class="w-4 h-4 text-gray-500 absolute left-3 top-2.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
               </div>
            </div>
            
            <button class="btn-primary px-4 py-2 rounded-lg text-sm shadow-lg flex items-center gap-2" style="box-shadow: 0 4px 14px 0 rgba(215, 35, 35, 0.39)">
             <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
             New Ticket
           </button>
         </div>

         <!-- Filter Tabs -->
         <div class="flex gap-6 border-b border-white/5 mb-6 text-sm font-medium text-gray-400">
            <button 
              *ngFor="let tab of ['All', 'Open', 'In Progress', 'Closed']"
              (click)="setActiveTab(tab)"
              class="pb-3 border-b-2 transition-colors relative"
              [class.text-white]="activeTab === tab"
              [class.border-red-500]="activeTab === tab"
              [class.border-transparent]="activeTab !== tab"
              [class.hover:text-white]="activeTab !== tab"
            >
              {{ tab }} Tickets
              <span *ngIf="activeTab === tab" class="absolute bottom-0 left-0 w-full h-0.5 bg-red-500 shadow-[0_0_10px_rgba(215,35,35,0.5)]"></span>
            </button>
         </div>

         <!-- Ticket List -->
         <div class="glass-panel rounded-2xl overflow-hidden shadow-2xl flex-1">
           <div class="overflow-x-auto">
             <table class="w-full text-left border-collapse">
               <thead>
                 <tr class="border-b border-white/10 bg-white/[0.02] text-xs uppercase tracking-wider text-gray-400 font-medium">
                   <th class="p-5 pl-6 w-24">Ticket ID</th>
                   <th class="p-5 w-1/3">Subject</th>
                   <th class="p-5">Requested By</th>
                   <th class="p-5">Status</th>
                   <th class="p-5">Priority</th>
                   <th class="p-5">Last Updated</th>
                   <th class="p-5 text-right pr-6">Action</th>
                 </tr>
               </thead>
               <tbody class="text-sm divide-y divide-white/5">
                 <tr *ngIf="isLoading">
                   <td colspan="7" class="p-12 text-center text-gray-500">
                     <div class="flex flex-col items-center gap-2">
                       <div class="w-6 h-6 border-2 border-t-transparent rounded-full animate-spin" style="border-color: var(--color-primary)"></div>
                       <span class="text-xs uppercase tracking-widest">Loading tickets...</span>
                     </div>
                   </td>
                 </tr>
                 
                 <tr *ngFor="let ticket of filteredTickets" class="hover:bg-white/[0.03] transition duration-200 group">
                   <td class="p-5 pl-6 font-mono text-gray-400">#{{ ticket.id }}</td>
                   <td class="p-5">
                     <div class="font-semibold text-white">{{ ticket.subject || 'No Subject' }}</div>
                     <div class="text-xs text-gray-500 mt-0.5 truncate max-w-xs">{{ ticket.note || ticket.description }}</div>
                   </td>
                   <td class="p-5">
                     <div class="flex items-center gap-2">
                       <div class="w-6 h-6 rounded-full bg-[#3A4750] flex items-center justify-center text-xs font-bold text-gray-300">
                         {{ ticket.createBy ? 'U' + ticket.createBy : '?' }}
                       </div>
                       <span class="text-gray-300">User {{ ticket.createBy || 'Unknown' }}</span>
                     </div>
                   </td>
                   <td class="p-5">
                     <span [class]="'px-2.5 py-1 rounded-md text-xs font-semibold tracking-wide border inline-flex items-center gap-1.5 ' + getStatusColor(ticket.status)">
                       <span class="w-1.5 h-1.5 rounded-full bg-current"></span>
                       {{ ticket.status }}
                     </span>
                   </td>
                   <td class="p-5">
                     <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">Normal</span>
                   </td>
                   <td class="p-5 text-gray-400 text-xs">
                     {{ ticket.createDate | date:'mediumDate' }}
                   </td>
                   <td class="p-5 text-right pr-6">
                     <a [routerLink]="['/tickets', ticket.id]" class="p-2 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition inline-block">
                       <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
                     </a>
                   </td>
                 </tr>

                 <tr *ngIf="!isLoading && filteredTickets.length === 0">
                   <td colspan="7" class="p-12 text-center text-gray-500">
                     <p>No tickets found for this filter.</p>
                   </td>
                 </tr>
               </tbody>
             </table>
           </div>
         </div>
    </div>
