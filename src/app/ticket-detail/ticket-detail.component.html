<div class="h-full flex flex-col p-10">
  <div class="mb-6 flex items-center gap-4">
    <a routerLink="/tickets" class="p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white transition">
      <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
    </a>
    <div>
      <h2 class="text-xl font-bold text-white">Ticket Details</h2>
      <p class="text-xs text-gray-500 font-mono">ID: #{{ ticket?.id }}</p>
    </div>
  </div>

  <div *ngIf="isLoading" class="flex-1 flex items-center justify-center">
    <div class="w-8 h-8 border-2 border-t-transparent rounded-full animate-spin" style="border-color: var(--color-primary)"></div>
  </div>

  <div *ngIf="!isLoading && ticket" class="grid grid-cols-3 gap-6">
    <!-- Main Info -->
    <div class="col-span-2 space-y-6">
      <div class="glass-panel p-8 rounded-2xl">
        <div class="flex justify-between items-start mb-6">
          <h3 class="text-2xl font-bold text-white">{{ ticket.subject || 'No Subject' }}</h3>
          <span class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-yellow-400/10 text-yellow-400 border border-yellow-400/20">
            {{ ticket.status }}
          </span>
        </div>
        
        <div class="prose prose-invert max-w-none">
          <p class="text-gray-300 leading-relaxed">{{ ticket.description || ticket.note }}</p>
        </div>
        
        <div class="mt-8 pt-8 border-t border-white/5 grid grid-cols-2 gap-4 text-sm">
          <div>
            <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">Created By</p>
            <p class="text-white font-medium">User #{{ ticket.createBy || 'Unknown' }}</p>
          </div>
          <div>
            <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">Date Created</p>
            <p class="text-white font-medium">{{ ticket.createDate | date:'medium' }}</p>
          </div>
        </div>
      </div>

      <!-- Activity Stream (Mock) -->
      <div class="glass-panel p-8 rounded-2xl">
        <h4 class="text-lg font-bold text-white mb-6">Activity History</h4>
        <div class="space-y-6 relative before:absolute before:left-2 before:top-2 before:bottom-2 before:w-0.5 before:bg-white/5">
          <div class="relative pl-8">
            <div class="absolute left-0 top-1 w-4 h-4 rounded-full bg-green-500 border-2 border-[#303841]"></div>
            <p class="text-sm text-gray-300">Ticket created</p>
            <p class="text-xs text-gray-500 mt-1">{{ ticket.createDate | date:'short' }}</p>
          </div>
          <div class="relative pl-8">
             <div class="absolute left-0 top-1 w-4 h-4 rounded-full bg-blue-500 border-2 border-[#303841]"></div>
             <p class="text-sm text-gray-300">Status updated to <span class="text-white font-bold">{{ ticket.status }}</span></p>
             <p class="text-xs text-gray-500 mt-1">Just now</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar Actions -->
    <div class="space-y-6">
      <div class="glass-panel p-6 rounded-2xl">
        <h4 class="text-sm font-bold text-white uppercase tracking-wider mb-4">Actions</h4>
        <div class="space-y-3">
          <button class="w-full py-2 px-4 rounded-lg bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium transition">Update Status</button>
          <button class="w-full py-2 px-4 rounded-lg bg-white/5 hover:bg-white/10 text-white text-sm font-medium transition border border-white/10">Add Note</button>
          <button class="w-full py-2 px-4 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-500 text-sm font-medium transition border border-red-500/20">Close Ticket</button>
        </div>
      </div>
    </div>
  </div>
</div>
